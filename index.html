<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reserva de ﾃ馬ibus</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #0a0a0a;
  color: white;
  text-align: center;
  padding: 20px;
}
h1 { color: #fff; font-size: 32px; margin-bottom: 10px; }
h2 { color: white; font-size: 20px; margin-bottom: 20px; }
.container {
  background: #1c1c1c;
  padding: 25px;
  border-radius: 15px;
  max-width: 420px;
  margin: 0 auto;
  box-shadow: 0 0 15px rgba(255,255,255,0.1);
}
label {
  display: block;
  text-align: left;
  margin-top: 15px;
  font-size: 14px;
  color: #ccc;
}
input, select {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 8px;
  border: none;
  font-size: 15px;
  background: #222;
  color: #fff;
}
.total, .vagas {
  font-size: 16px;
  color: #00ff90;
  margin-top: 10px;
  font-weight: bold;
}
.pix-section {
  background: #2c2c2c;
  padding: 15px;
  border-radius: 10px;
  margin-top: 20px;
}
.pix-key { font-size: 15px; color: #fff; margin-bottom: 10px; }
.copy-btn {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 18px;
  border-radius: 8px;
  font-size: 14px;
  cursor: pointer;
}
.copy-btn:hover { background-color: #0064d1; }
.copiado { display: none; color: #00ff90; font-size: 14px; margin-top: 8px; }
button.send-btn {
  margin-top: 18px;
  width: 100%;
  padding: 12px;
  background: #25d366;
  color: #062b17;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 16px;
}
button.send-btn:disabled { background: #888; cursor: not-allowed; }
button.send-btn:hover:not(:disabled) { background: #1ebf5a; }
footer { margin-top: 18px; font-size: 13px; color: #888; }
.esgotado-msg {
  margin-top: 12px;
  color: #ff4d4d;
  font-weight: bold;
  display: none;
}
</style>
</head>
<body>

<h1>Reserva de ﾃ馬ibus</h1>
<h2>Trilheiros de Rondonﾃｳpolis</h2>

<div class="container">
  <label for="nome">Nome completo:</label>
  <input type="text" id="nome" placeholder="Ex: Joﾃ｣o Silva" required>

  <label for="quantidade">Quantidade de vagas:</label>
  <select id="quantidade">
    <option value="">Selecione</option>
    <option value="1">1 vaga</option>
    <option value="2">2 vagas</option>
    <option value="3">3 vagas</option>
    <option value="4">4 vagas</option>
    <option value="5">5 vagas</option>
    <option value="6">6 vagas</option>
    <option value="7">7 vagas</option>
    <option value="8">8 vagas</option>
    <option value="9">9 vagas</option>
    <option value="10">10 vagas</option>
  </select>

  <div class="total" id="valorTotal">Valor total: R$ 0,00</div>
  <div class="vagas" id="vagasRestantes">Vagas restantes: 44</div>
  <div class="esgotado-msg" id="esgotadoMsg">泅 ﾃ馬ibus lotado. Todas as vagas foram preenchidas.</div>

  <button id="sendBtn" class="send-btn" onclick="confirmarReserva()">Confirmar Reserva</button>

  <footer>ﾂｩ 2025 Trilheiros de Rondonﾃｳpolis</footer>
</div>

<script>
const precoPorPessoa = 69;
const limiteVagas = 44;
let vagasPreenchidas = 0;

const quantidadeInput = document.getElementById("quantidade");
const valorTotal = document.getElementById("valorTotal");
const vagasRestantes = document.getElementById("vagasRestantes");
const esgotadoMsg = document.getElementById("esgotadoMsg");
const sendBtn = document.getElementById("sendBtn");

quantidadeInput.addEventListener("change", atualizarValor);

function atualizarValor() {
  const qtd = parseInt(quantidadeInput.value) || 0;
  const total = qtd * precoPorPessoa;
  valorTotal.textContent = `Valor total: R$ ${total.toFixed(2).replace('.', ',')}`;
}

function confirmarReserva() {
  const nome = document.getElementById("nome").value.trim();
  const qtd = parseInt(document.getElementById("quantidade").value);

  if (!nome || !qtd) {
    alert("Preencha nome e quantidade de vagas.");
    return;
  }

  if (vagasPreenchidas + qtd > limiteVagas) {
    alert("ﾃ馬ibus lotado. Todas as vagas foram preenchidas.");
    return;
  }

  vagasPreenchidas += qtd;
  atualizarContadorTela();

  alert("Reserva confirmada.");
}

function atualizarContadorTela() {
  const restantes = limiteVagas - vagasPreenchidas;
  vagasRestantes.textContent = `Vagas restantes: ${restantes}`;

  if (vagasPreenchidas >= limiteVagas) {
    sendBtn.disabled = true;
    esgotadoMsg.style.display = "block";
  }
}

atualizarValor();
</script>

</body>
</html>
